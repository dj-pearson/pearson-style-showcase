# danpearson.net Supabase Configuration
# Copy this file to .env and fill in your values
# NEVER commit the .env file to git!

# ============================================
# Self-Hosted Supabase Instance Configuration
# ============================================

# Your self-hosted Supabase instance URL
# Production: https://api.danpearson.net
SUPABASE_URL=https://api.danpearson.net

# Supabase Anonymous (Public) Key
# Find in: Supabase Dashboard → Settings → API → Project API keys
# This key is safe to use in client-side code
SUPABASE_ANON_KEY=your-anon-key-here

# Supabase Service Role (Admin) Key
# ⚠️ KEEP THIS SECRET - Has admin access to your database
# Find in: Supabase Dashboard → Settings → API → Project API keys
# Only use this key in server-side code, never expose to clients
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# ============================================
# Edge Functions Server Configuration
# ============================================

# Server port (default: 8000)
PORT=8000

# Domain configuration
DOMAIN=functions.danpearson.net
API_GATEWAY_URL=https://api.danpearson.net

# Self-referencing URL for edge functions calling other edge functions
# This is used when one function needs to invoke another function
FUNCTIONS_URL=https://functions.danpearson.net

# Deno Configuration
DENO_DIR=/app/.deno_cache

# ============================================
# Development vs Production
# ============================================

# For local development, use:
# SUPABASE_URL=http://localhost:54321
# SUPABASE_ANON_KEY=<your-local-anon-key>
# SUPABASE_SERVICE_ROLE_KEY=<your-local-service-role-key>

# For production (self-hosted on Coolify or similar):
# SUPABASE_URL=https://api.danpearson.net
# SUPABASE_ANON_KEY=<your-production-anon-key>
# SUPABASE_SERVICE_ROLE_KEY=<your-production-service-role-key>

# ============================================
# Additional Configuration (Optional)
# ============================================

# JWT Secret (for manual JWT verification if needed)
# JWT_SECRET=your-jwt-secret

# Vault Encryption Key (for Secure Vault feature)
# ⚠️ CRITICAL: Once set, DO NOT CHANGE - encrypted data will be lost
# Generate with: [guid]::NewGuid().ToString() + [guid]::NewGuid().ToString()
VAULT_ENCRYPTION_KEY=your-secure-random-key-here

# Database Connection (if functions need direct DB access)
# DATABASE_URL=postgresql://postgres:password@api.danpearson.net:5432/postgres

# External Services (as needed by your functions)
# OPENAI_API_KEY=your-openai-api-key
# ANTHROPIC_API_KEY=your-anthropic-api-key
# RESEND_API_KEY=your-resend-api-key
# STRIPE_SECRET_KEY=your-stripe-secret-key
# CLOUDFLARE_API_KEY=your-cloudflare-api-key

# ============================================
# Security Notes
# ============================================
# 1. Never commit this file with real values
# 2. Use environment secrets in production (Coolify, GitHub Actions, etc.)
# 3. Rotate keys regularly
# 4. Use different keys for development and production
# 5. The service role key has full database access - protect it!
